[:div
 {:id "datatable"}
 nil
 [:div.overflow-x-auto
  [:table.table.table-sm
   [:thead
    [:tr
     [:th.w-3
      [:input.checkbox.checkbox-sm
       {:type "checkbox",
        :data-on:click
        "evt.target.checked ? @setAll(true, { include: 'datatable\\\\.datatable\\\\.selections\\\\..*' }) : @setAll(false, { include: 'datatable\\\\.datatable\\\\.selections\\\\..*' })"}]]
     nil
     ([:th
       {:draggable "true",
        :data-on:dragstart "$datatable.datatable.dragging = 'name'",
        :data-on:dragend
        "$datatable.datatable.dragging = null; $datatable.datatable.dragOver = null",
        :data-on:dragover__prevent
        "$datatable.datatable.dragOver = 'name'",
        :data-on:dragleave
        "if ($datatable.datatable.dragOver === 'name') $datatable.datatable.dragOver = null",
        :data-on:drop
        "@get('/demo/datatable/data?moveCol=' + $datatable.datatable.dragging + '&beforeCol=name')",
        :data-class
        "{'border-l-4 border-primary': $datatable.datatable.dragOver === 'name' && $datatable.datatable.dragging !== 'name'}"}
       [:div.flex.items-center.justify-between.gap-2
        [:button.flex.items-center.gap-1.hover:text-primary.transition-colors
         {:data-on:click "@get('/demo/datatable/data?clicked=name')"}
         [:span
          {:class "opacity-30"}
          [:svg
           {:xmlns "http://www.w3.org/2000/svg",
            :fill "none",
            :viewBox "0 0 24 24",
            :stroke-width "1.5",
            :stroke "currentColor",
            :class "w-3 h-3"}
           [:path
            {:stroke-linecap "round",
             :stroke-linejoin "round",
             :d
             "M3 7.5 7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5"}]]]
         [:span.font-semibold "Name"]]
        [:div.flex.items-center
         ([:button.btn.btn-ghost.btn-xs.px-1
           {:popovertarget "filter-name",
            :style {:anchor-name "--filter-name"},
            :class "opacity-50 hover:opacity-100"}
           [:svg
            {:xmlns "http://www.w3.org/2000/svg",
             :fill "none",
             :viewBox "0 0 24 24",
             :stroke-width "1.5",
             :stroke "currentColor",
             :class "w-4 h-4"}
            [:path
             {:stroke-linecap "round",
              :stroke-linejoin "round",
              :d
              "M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}]]]
          [:div.bg-base-100.shadow-lg.rounded-box.p-4.w-64
           {:popover "auto",
            :id "filter-name",
            :style
            {:position-anchor "--filter-name",
             :position "absolute",
             :top "anchor(bottom)",
             :left "anchor(right)",
             :translate "-100% 0",
             :overflow "visible"}}
           [:form.flex.flex-col.gap-3
            {:data-on:submit__prevent
             "document.getElementById('filter-name').hidePopover(); @get('/demo/datatable/data?filterCol=name&filterOp=' + evt.target.elements['filterOp'].value + '&filterVal=' + evt.target.elements['filterVal'].value)"}
            [:div.text-sm.font-semibold "Filter Name"]
            [:input
             {:type "hidden", :name "filterOp", :value "contains"}]
            [:details.dropdown.w-full
             [:summary.select.select-sm.w-full.flex.items-center
              {:style {:padding-right "2rem"}}
              [:span "contains"]]
             [:ul.dropdown-content.menu.bg-base-100.rounded-field.w-full.shadow-lg.mt-1.text-xs.py-1
              {:style {:position "absolute", :z-index 9999}}
              ([:li
                {:data-on:click
                 "evt.target.closest('form').elements['filterOp'].value = 'contains'; evt.target.closest('details').querySelector('summary span').textContent = 'contains'; evt.target.closest('details').removeAttribute('open')"}
                [:a.py-1 {:class "active"} "contains"]]
               [:li
                {:data-on:click
                 "evt.target.closest('form').elements['filterOp'].value = 'not-contains'; evt.target.closest('details').querySelector('summary span').textContent = 'does not contain'; evt.target.closest('details').removeAttribute('open')"}
                [:a.py-1 {:class nil} "does not contain"]]
               [:li
                {:data-on:click
                 "evt.target.closest('form').elements['filterOp'].value = 'equals'; evt.target.closest('details').querySelector('summary span').textContent = 'equals'; evt.target.closest('details').removeAttribute('open')"}
                [:a.py-1 {:class nil} "equals"]]
               [:li
                {:data-on:click
                 "evt.target.closest('form').elements['filterOp'].value = 'not-equals'; evt.target.closest('details').querySelector('summary span').textContent = 'does not equal'; evt.target.closest('details').removeAttribute('open')"}
                [:a.py-1 {:class nil} "does not equal"]]
               [:li
                {:data-on:click
                 "evt.target.closest('form').elements['filterOp'].value = 'starts-with'; evt.target.closest('details').querySelector('summary span').textContent = 'starts with'; evt.target.closest('details').removeAttribute('open')"}
                [:a.py-1 {:class nil} "starts with"]]
               [:li
                {:data-on:click
                 "evt.target.closest('form').elements['filterOp'].value = 'ends-with'; evt.target.closest('details').querySelector('summary span').textContent = 'ends with'; evt.target.closest('details').removeAttribute('open')"}
                [:a.py-1 {:class nil} "ends with"]]
               [:li
                {:data-on:click
                 "evt.target.closest('form').elements['filterOp'].value = 'is-empty'; evt.target.closest('details').querySelector('summary span').textContent = 'is empty'; evt.target.closest('details').removeAttribute('open')"}
                [:a.py-1 {:class nil} "is empty"]])]]
            [:input.input.input-sm.w-full
             {:type "text",
              :name "filterVal",
              :placeholder "Value...",
              :value ""}]
            [:div.flex.gap-2
             [:button.btn.btn-sm.btn-ghost.flex-1
              {:type "button",
               :disabled true,
               :data-on:click
               "document.getElementById('filter-name').hidePopover(); @get('/demo/datatable/data?filterCol=name&filterVal=')"}
              "Clear"]
             [:button.btn.btn-sm.btn-primary.flex-1
              {:type "button",
               :data-on:click
               "document.getElementById('filter-name').hidePopover(); @get('/demo/datatable/data?filterCol=name&filterOp=' + evt.target.closest('form').elements['filterOp'].value + '&filterVal=' + encodeURIComponent(evt.target.closest('form').elements['filterVal'].value))"}
              "Apply"]]]])
         ([:button.btn.btn-ghost.btn-xs.px-1.opacity-50.hover:opacity-100
           {:popovertarget "col-menu-name",
            :style {:anchor-name "--col-menu-name"}}
           [:svg.w-4.h-4
            {:xmlns "http://www.w3.org/2000/svg",
             :fill "none",
             :viewBox "0 0 24 24",
             :stroke-width "1.5",
             :stroke "currentColor"}
            [:path
             {:stroke-linecap "round",
              :stroke-linejoin "round",
              :d
              "M12 6.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 12.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 18.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5Z"}]]]
          [:div.dropdown-content.bg-base-100.rounded-box.shadow-lg.p-2
           {:popover "auto",
            :id "col-menu-name",
            :style
            {:position-anchor "--col-menu-name",
             :position "absolute",
             :top "anchor(bottom)",
             :left "anchor(right)",
             :translate "-100% 0",
             :font-weight "normal"}}
           [:ul.menu.menu-sm.w-44
            [:li
             [:a.flex.items-center.gap-2
              {:data-on:click
               "document.getElementById('col-menu-name').hidePopover(); @get('/demo/datatable/data?sortCol=name&sortDir=asc')"}
              [:svg.w-4.h-4
               {:xmlns "http://www.w3.org/2000/svg",
                :fill "none",
                :viewBox "0 0 24 24",
                :stroke-width "1.5",
                :stroke "currentColor"}
               [:path
                {:stroke-linecap "round",
                 :stroke-linejoin "round",
                 :d "M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"}]]
              "Sort ascending"]]
            [:li
             [:a.flex.items-center.gap-2
              {:data-on:click
               "document.getElementById('col-menu-name').hidePopover(); @get('/demo/datatable/data?sortCol=name&sortDir=desc')"}
              [:svg.w-4.h-4
               {:xmlns "http://www.w3.org/2000/svg",
                :fill "none",
                :viewBox "0 0 24 24",
                :stroke-width "1.5",
                :stroke "currentColor"}
               [:path
                {:stroke-linecap "round",
                 :stroke-linejoin "round",
                 :d "M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"}]]
              "Sort descending"]]
            [:li
             [:a.flex.items-center.gap-2
              {:data-on:click
               "document.getElementById('col-menu-name').hidePopover(); @get('/demo/datatable/data?groupBy=name')"}
              [:svg.w-4.h-4
               {:xmlns "http://www.w3.org/2000/svg",
                :fill "none",
                :viewBox "0 0 24 24",
                :stroke-width "1.5",
                :stroke "currentColor"}
               [:path
                {:stroke-linecap "round",
                 :stroke-linejoin "round",
                 :d
                 "M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}]]
              "Group by "
              "Name"]]
            [:li
             [:a.flex.items-center.gap-2
              {:data-on:click
               "document.getElementById('col-menu-name').hidePopover(); $datatable.datatable.columns.name.visible = false; @get('/demo/datatable/data')"}
              [:svg.w-4.h-4
               {:xmlns "http://www.w3.org/2000/svg",
                :fill "none",
                :viewBox "0 0 24 24",
                :stroke-width "1.5",
                :stroke "currentColor"}
               [:path
                {:stroke-linecap "round",
                 :stroke-linejoin "round",
                 :d
                 "M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}]]
              "Hide column"]]]])]]]
      [:th
       {:draggable "true",
        :data-on:dragstart "$datatable.datatable.dragging = 'century'",
        :data-on:dragend
        "$datatable.datatable.dragging = null; $datatable.datatable.dragOver = null",
        :data-on:dragover__prevent
        "$datatable.datatable.dragOver = 'century'",
        :data-on:dragleave
        "if ($datatable.datatable.dragOver === 'century') $datatable.datatable.dragOver = null",
        :data-on:drop
        "@get('/demo/datatable/data?moveCol=' + $datatable.datatable.dragging + '&beforeCol=century')",
        :data-class
        "{'border-l-4 border-primary': $datatable.datatable.dragOver === 'century' && $datatable.datatable.dragging !== 'century'}"}
       [:div.flex.items-center.justify-between.gap-2
        [:button.flex.items-center.gap-1.hover:text-primary.transition-colors
         {:data-on:click
          "@get('/demo/datatable/data?clicked=century')"}
         [:span
          {:class "opacity-30"}
          [:svg
           {:xmlns "http://www.w3.org/2000/svg",
            :fill "none",
            :viewBox "0 0 24 24",
            :stroke-width "1.5",
            :stroke "currentColor",
            :class "w-3 h-3"}
           [:path
            {:stroke-linecap "round",
             :stroke-linejoin "round",
             :d
             "M3 7.5 7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5"}]]]
         [:span.font-semibold "Century"]]
        [:div.flex.items-center
         ([:button.btn.btn-ghost.btn-xs.px-1
           {:popovertarget "filter-century",
            :style {:anchor-name "--filter-century"},
            :class "opacity-50 hover:opacity-100"}
           [:svg
            {:xmlns "http://www.w3.org/2000/svg",
             :fill "none",
             :viewBox "0 0 24 24",
             :stroke-width "1.5",
             :stroke "currentColor",
             :class "w-4 h-4"}
            [:path
             {:stroke-linecap "round",
              :stroke-linejoin "round",
              :d
              "M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}]]]
          [:div.bg-base-100.shadow-lg.rounded-box.p-4.w-64
           {:popover "auto",
            :id "filter-century",
            :style
            {:position-anchor "--filter-century",
             :position "absolute",
             :top "anchor(bottom)",
             :left "anchor(right)",
             :translate "-100% 0",
             :overflow "visible"}}
           [:form.flex.flex-col.gap-3
            {:data-on:submit__prevent
             "document.getElementById('filter-century').hidePopover(); @get('/demo/datatable/data?filterCol=century&filterOp=' + evt.target.elements['filterOp'].value + '&filterVal=' + evt.target.elements['filterVal'].value)"}
            [:div.text-sm.font-semibold "Filter Century"]
            [:input
             {:type "hidden", :name "filterOp", :value "contains"}]
            [:details.dropdown.w-full
             [:summary.select.select-sm.w-full.flex.items-center
              {:style {:padding-right "2rem"}}
              [:span "contains"]]
             [:ul.dropdown-content.menu.bg-base-100.rounded-field.w-full.shadow-lg.mt-1.text-xs.py-1
              {:style {:position "absolute", :z-index 9999}}
              ([:li
                {:data-on:click
                 "evt.target.closest('form').elements['filterOp'].value = 'contains'; evt.target.closest('details').querySelector('summary span').textContent = 'contains'; evt.target.closest('details').removeAttribute('open')"}
                [:a.py-1 {:class "active"} "contains"]]
               [:li
                {:data-on:click
                 "evt.target.closest('form').elements['filterOp'].value = 'not-contains'; evt.target.closest('details').querySelector('summary span').textContent = 'does not contain'; evt.target.closest('details').removeAttribute('open')"}
                [:a.py-1 {:class nil} "does not contain"]]
               [:li
                {:data-on:click
                 "evt.target.closest('form').elements['filterOp'].value = 'equals'; evt.target.closest('details').querySelector('summary span').textContent = 'equals'; evt.target.closest('details').removeAttribute('open')"}
                [:a.py-1 {:class nil} "equals"]]
               [:li
                {:data-on:click
                 "evt.target.closest('form').elements['filterOp'].value = 'not-equals'; evt.target.closest('details').querySelector('summary span').textContent = 'does not equal'; evt.target.closest('details').removeAttribute('open')"}
                [:a.py-1 {:class nil} "does not equal"]]
               [:li
                {:data-on:click
                 "evt.target.closest('form').elements['filterOp'].value = 'starts-with'; evt.target.closest('details').querySelector('summary span').textContent = 'starts with'; evt.target.closest('details').removeAttribute('open')"}
                [:a.py-1 {:class nil} "starts with"]]
               [:li
                {:data-on:click
                 "evt.target.closest('form').elements['filterOp'].value = 'ends-with'; evt.target.closest('details').querySelector('summary span').textContent = 'ends with'; evt.target.closest('details').removeAttribute('open')"}
                [:a.py-1 {:class nil} "ends with"]]
               [:li
                {:data-on:click
                 "evt.target.closest('form').elements['filterOp'].value = 'is-empty'; evt.target.closest('details').querySelector('summary span').textContent = 'is empty'; evt.target.closest('details').removeAttribute('open')"}
                [:a.py-1 {:class nil} "is empty"]])]]
            [:input.input.input-sm.w-full
             {:type "text",
              :name "filterVal",
              :placeholder "Value...",
              :value ""}]
            [:div.flex.gap-2
             [:button.btn.btn-sm.btn-ghost.flex-1
              {:type "button",
               :disabled true,
               :data-on:click
               "document.getElementById('filter-century').hidePopover(); @get('/demo/datatable/data?filterCol=century&filterVal=')"}
              "Clear"]
             [:button.btn.btn-sm.btn-primary.flex-1
              {:type "button",
               :data-on:click
               "document.getElementById('filter-century').hidePopover(); @get('/demo/datatable/data?filterCol=century&filterOp=' + evt.target.closest('form').elements['filterOp'].value + '&filterVal=' + encodeURIComponent(evt.target.closest('form').elements['filterVal'].value))"}
              "Apply"]]]])
         ([:button.btn.btn-ghost.btn-xs.px-1.opacity-50.hover:opacity-100
           {:popovertarget "col-menu-century",
            :style {:anchor-name "--col-menu-century"}}
           [:svg.w-4.h-4
            {:xmlns "http://www.w3.org/2000/svg",
             :fill "none",
             :viewBox "0 0 24 24",
             :stroke-width "1.5",
             :stroke "currentColor"}
            [:path
             {:stroke-linecap "round",
              :stroke-linejoin "round",
              :d
              "M12 6.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 12.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 18.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5Z"}]]]
          [:div.dropdown-content.bg-base-100.rounded-box.shadow-lg.p-2
           {:popover "auto",
            :id "col-menu-century",
            :style
            {:position-anchor "--col-menu-century",
             :position "absolute",
             :top "anchor(bottom)",
             :left "anchor(right)",
             :translate "-100% 0",
             :font-weight "normal"}}
           [:ul.menu.menu-sm.w-44
            [:li
             [:a.flex.items-center.gap-2
              {:data-on:click
               "document.getElementById('col-menu-century').hidePopover(); @get('/demo/datatable/data?sortCol=century&sortDir=asc')"}
              [:svg.w-4.h-4
               {:xmlns "http://www.w3.org/2000/svg",
                :fill "none",
                :viewBox "0 0 24 24",
                :stroke-width "1.5",
                :stroke "currentColor"}
               [:path
                {:stroke-linecap "round",
                 :stroke-linejoin "round",
                 :d "M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"}]]
              "Sort ascending"]]
            [:li
             [:a.flex.items-center.gap-2
              {:data-on:click
               "document.getElementById('col-menu-century').hidePopover(); @get('/demo/datatable/data?sortCol=century&sortDir=desc')"}
              [:svg.w-4.h-4
               {:xmlns "http://www.w3.org/2000/svg",
                :fill "none",
                :viewBox "0 0 24 24",
                :stroke-width "1.5",
                :stroke "currentColor"}
               [:path
                {:stroke-linecap "round",
                 :stroke-linejoin "round",
                 :d "M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"}]]
              "Sort descending"]]
            [:li
             [:a.flex.items-center.gap-2
              {:data-on:click
               "document.getElementById('col-menu-century').hidePopover(); @get('/demo/datatable/data?groupBy=century')"}
              [:svg.w-4.h-4
               {:xmlns "http://www.w3.org/2000/svg",
                :fill "none",
                :viewBox "0 0 24 24",
                :stroke-width "1.5",
                :stroke "currentColor"}
               [:path
                {:stroke-linecap "round",
                 :stroke-linejoin "round",
                 :d
                 "M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}]]
              "Group by "
              "Century"]]
            [:li
             [:a.flex.items-center.gap-2
              {:data-on:click
               "document.getElementById('col-menu-century').hidePopover(); $datatable.datatable.columns.century.visible = false; @get('/demo/datatable/data')"}
              [:svg.w-4.h-4
               {:xmlns "http://www.w3.org/2000/svg",
                :fill "none",
                :viewBox "0 0 24 24",
                :stroke-width "1.5",
                :stroke "currentColor"}
               [:path
                {:stroke-linecap "round",
                 :stroke-linejoin "round",
                 :d
                 "M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}]]
              "Hide column"]]]])]]]
      [:th
       {:draggable "true",
        :data-on:dragstart "$datatable.datatable.dragging = 'school'",
        :data-on:dragend
        "$datatable.datatable.dragging = null; $datatable.datatable.dragOver = null",
        :data-on:dragover__prevent
        "$datatable.datatable.dragOver = 'school'",
        :data-on:dragleave
        "if ($datatable.datatable.dragOver === 'school') $datatable.datatable.dragOver = null",
        :data-on:drop
        "@get('/demo/datatable/data?moveCol=' + $datatable.datatable.dragging + '&beforeCol=school')",
        :data-class
        "{'border-l-4 border-primary': $datatable.datatable.dragOver === 'school' && $datatable.datatable.dragging !== 'school'}"}
       [:div.flex.items-center.justify-between.gap-2
        [:button.flex.items-center.gap-1.hover:text-primary.transition-colors
         {:data-on:click "@get('/demo/datatable/data?clicked=school')"}
         [:span
          {:class "opacity-30"}
          [:svg
           {:xmlns "http://www.w3.org/2000/svg",
            :fill "none",
            :viewBox "0 0 24 24",
            :stroke-width "1.5",
            :stroke "currentColor",
            :class "w-3 h-3"}
           [:path
            {:stroke-linecap "round",
             :stroke-linejoin "round",
             :d
             "M3 7.5 7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5"}]]]
         [:span.font-semibold "School"]]
        [:div.flex.items-center
         ([:button.btn.btn-ghost.btn-xs.px-1
           {:popovertarget "filter-school",
            :style {:anchor-name "--filter-school"},
            :class "opacity-50 hover:opacity-100"}
           [:svg
            {:xmlns "http://www.w3.org/2000/svg",
             :fill "none",
             :viewBox "0 0 24 24",
             :stroke-width "1.5",
             :stroke "currentColor",
             :class "w-4 h-4"}
            [:path
             {:stroke-linecap "round",
              :stroke-linejoin "round",
              :d
              "M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}]]]
          [:div.bg-base-100.shadow-lg.rounded-box.p-4.w-64
           {:popover "auto",
            :id "filter-school",
            :style
            {:position-anchor "--filter-school",
             :position "absolute",
             :top "anchor(bottom)",
             :left "anchor(right)",
             :translate "-100% 0",
             :overflow "visible"}}
           [:form.flex.flex-col.gap-3
            {:data-on:submit__prevent
             "document.getElementById('filter-school').hidePopover(); @get('/demo/datatable/data?filterCol=school&filterOp=' + evt.target.elements['filterOp'].value + '&filterVal=' + evt.target.elements['filterVal'].value)"}
            [:div.text-sm.font-semibold "Filter School"]
            [:input
             {:type "hidden", :name "filterOp", :value "contains"}]
            [:details.dropdown.w-full
             [:summary.select.select-sm.w-full.flex.items-center
              {:style {:padding-right "2rem"}}
              [:span "contains"]]
             [:ul.dropdown-content.menu.bg-base-100.rounded-field.w-full.shadow-lg.mt-1.text-xs.py-1
              {:style {:position "absolute", :z-index 9999}}
              ([:li
                {:data-on:click
                 "evt.target.closest('form').elements['filterOp'].value = 'contains'; evt.target.closest('details').querySelector('summary span').textContent = 'contains'; evt.target.closest('details').removeAttribute('open')"}
                [:a.py-1 {:class "active"} "contains"]]
               [:li
                {:data-on:click
                 "evt.target.closest('form').elements['filterOp'].value = 'not-contains'; evt.target.closest('details').querySelector('summary span').textContent = 'does not contain'; evt.target.closest('details').removeAttribute('open')"}
                [:a.py-1 {:class nil} "does not contain"]]
               [:li
                {:data-on:click
                 "evt.target.closest('form').elements['filterOp'].value = 'equals'; evt.target.closest('details').querySelector('summary span').textContent = 'equals'; evt.target.closest('details').removeAttribute('open')"}
                [:a.py-1 {:class nil} "equals"]]
               [:li
                {:data-on:click
                 "evt.target.closest('form').elements['filterOp'].value = 'not-equals'; evt.target.closest('details').querySelector('summary span').textContent = 'does not equal'; evt.target.closest('details').removeAttribute('open')"}
                [:a.py-1 {:class nil} "does not equal"]]
               [:li
                {:data-on:click
                 "evt.target.closest('form').elements['filterOp'].value = 'starts-with'; evt.target.closest('details').querySelector('summary span').textContent = 'starts with'; evt.target.closest('details').removeAttribute('open')"}
                [:a.py-1 {:class nil} "starts with"]]
               [:li
                {:data-on:click
                 "evt.target.closest('form').elements['filterOp'].value = 'ends-with'; evt.target.closest('details').querySelector('summary span').textContent = 'ends with'; evt.target.closest('details').removeAttribute('open')"}
                [:a.py-1 {:class nil} "ends with"]]
               [:li
                {:data-on:click
                 "evt.target.closest('form').elements['filterOp'].value = 'is-empty'; evt.target.closest('details').querySelector('summary span').textContent = 'is empty'; evt.target.closest('details').removeAttribute('open')"}
                [:a.py-1 {:class nil} "is empty"]])]]
            [:input.input.input-sm.w-full
             {:type "text",
              :name "filterVal",
              :placeholder "Value...",
              :value ""}]
            [:div.flex.gap-2
             [:button.btn.btn-sm.btn-ghost.flex-1
              {:type "button",
               :disabled true,
               :data-on:click
               "document.getElementById('filter-school').hidePopover(); @get('/demo/datatable/data?filterCol=school&filterVal=')"}
              "Clear"]
             [:button.btn.btn-sm.btn-primary.flex-1
              {:type "button",
               :data-on:click
               "document.getElementById('filter-school').hidePopover(); @get('/demo/datatable/data?filterCol=school&filterOp=' + evt.target.closest('form').elements['filterOp'].value + '&filterVal=' + encodeURIComponent(evt.target.closest('form').elements['filterVal'].value))"}
              "Apply"]]]])
         ([:button.btn.btn-ghost.btn-xs.px-1.opacity-50.hover:opacity-100
           {:popovertarget "col-menu-school",
            :style {:anchor-name "--col-menu-school"}}
           [:svg.w-4.h-4
            {:xmlns "http://www.w3.org/2000/svg",
             :fill "none",
             :viewBox "0 0 24 24",
             :stroke-width "1.5",
             :stroke "currentColor"}
            [:path
             {:stroke-linecap "round",
              :stroke-linejoin "round",
              :d
              "M12 6.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 12.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 18.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5Z"}]]]
          [:div.dropdown-content.bg-base-100.rounded-box.shadow-lg.p-2
           {:popover "auto",
            :id "col-menu-school",
            :style
            {:position-anchor "--col-menu-school",
             :position "absolute",
             :top "anchor(bottom)",
             :left "anchor(right)",
             :translate "-100% 0",
             :font-weight "normal"}}
           [:ul.menu.menu-sm.w-44
            [:li
             [:a.flex.items-center.gap-2
              {:data-on:click
               "document.getElementById('col-menu-school').hidePopover(); @get('/demo/datatable/data?sortCol=school&sortDir=asc')"}
              [:svg.w-4.h-4
               {:xmlns "http://www.w3.org/2000/svg",
                :fill "none",
                :viewBox "0 0 24 24",
                :stroke-width "1.5",
                :stroke "currentColor"}
               [:path
                {:stroke-linecap "round",
                 :stroke-linejoin "round",
                 :d "M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"}]]
              "Sort ascending"]]
            [:li
             [:a.flex.items-center.gap-2
              {:data-on:click
               "document.getElementById('col-menu-school').hidePopover(); @get('/demo/datatable/data?sortCol=school&sortDir=desc')"}
              [:svg.w-4.h-4
               {:xmlns "http://www.w3.org/2000/svg",
                :fill "none",
                :viewBox "0 0 24 24",
                :stroke-width "1.5",
                :stroke "currentColor"}
               [:path
                {:stroke-linecap "round",
                 :stroke-linejoin "round",
                 :d "M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"}]]
              "Sort descending"]]
            [:li
             [:a.flex.items-center.gap-2
              {:data-on:click
               "document.getElementById('col-menu-school').hidePopover(); @get('/demo/datatable/data?groupBy=school')"}
              [:svg.w-4.h-4
               {:xmlns "http://www.w3.org/2000/svg",
                :fill "none",
                :viewBox "0 0 24 24",
                :stroke-width "1.5",
                :stroke "currentColor"}
               [:path
                {:stroke-linecap "round",
                 :stroke-linejoin "round",
                 :d
                 "M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}]]
              "Group by "
              "School"]]
            [:li
             [:a.flex.items-center.gap-2
              {:data-on:click
               "document.getElementById('col-menu-school').hidePopover(); $datatable.datatable.columns.school.visible = false; @get('/demo/datatable/data')"}
              [:svg.w-4.h-4
               {:xmlns "http://www.w3.org/2000/svg",
                :fill "none",
                :viewBox "0 0 24 24",
                :stroke-width "1.5",
                :stroke "currentColor"}
               [:path
                {:stroke-linecap "round",
                 :stroke-linejoin "round",
                 :d
                 "M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}]]
              "Hide column"]]]])]]]
      [:th
       {:draggable "true",
        :data-on:dragstart "$datatable.datatable.dragging = 'region'",
        :data-on:dragend
        "$datatable.datatable.dragging = null; $datatable.datatable.dragOver = null",
        :data-on:dragover__prevent
        "$datatable.datatable.dragOver = 'region'",
        :data-on:dragleave
        "if ($datatable.datatable.dragOver === 'region') $datatable.datatable.dragOver = null",
        :data-on:drop
        "@get('/demo/datatable/data?moveCol=' + $datatable.datatable.dragging + '&beforeCol=region')",
        :data-class
        "{'border-l-4 border-primary': $datatable.datatable.dragOver === 'region' && $datatable.datatable.dragging !== 'region'}"}
       [:div.flex.items-center.justify-between.gap-2
        [:button.flex.items-center.gap-1.hover:text-primary.transition-colors
         {:data-on:click "@get('/demo/datatable/data?clicked=region')"}
         [:span
          {:class "opacity-30"}
          [:svg
           {:xmlns "http://www.w3.org/2000/svg",
            :fill "none",
            :viewBox "0 0 24 24",
            :stroke-width "1.5",
            :stroke "currentColor",
            :class "w-3 h-3"}
           [:path
            {:stroke-linecap "round",
             :stroke-linejoin "round",
             :d
             "M3 7.5 7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5"}]]]
         [:span.font-semibold "Region"]]
        [:div.flex.items-center
         ([:button.btn.btn-ghost.btn-xs.px-1
           {:popovertarget "filter-region",
            :style {:anchor-name "--filter-region"},
            :class "opacity-50 hover:opacity-100"}
           [:svg
            {:xmlns "http://www.w3.org/2000/svg",
             :fill "none",
             :viewBox "0 0 24 24",
             :stroke-width "1.5",
             :stroke "currentColor",
             :class "w-4 h-4"}
            [:path
             {:stroke-linecap "round",
              :stroke-linejoin "round",
              :d
              "M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}]]]
          [:div.bg-base-100.shadow-lg.rounded-box.p-4.w-64
           {:popover "auto",
            :id "filter-region",
            :style
            {:position-anchor "--filter-region",
             :position "absolute",
             :top "anchor(bottom)",
             :left "anchor(right)",
             :translate "-100% 0",
             :overflow "visible"}}
           [:form.flex.flex-col.gap-3
            {:data-on:submit__prevent
             "document.getElementById('filter-region').hidePopover(); @get('/demo/datatable/data?filterCol=region&filterOp=' + evt.target.elements['filterOp'].value + '&filterVal=' + evt.target.elements['filterVal'].value)"}
            [:div.text-sm.font-semibold "Filter Region"]
            [:input
             {:type "hidden", :name "filterOp", :value "contains"}]
            [:details.dropdown.w-full
             [:summary.select.select-sm.w-full.flex.items-center
              {:style {:padding-right "2rem"}}
              [:span "contains"]]
             [:ul.dropdown-content.menu.bg-base-100.rounded-field.w-full.shadow-lg.mt-1.text-xs.py-1
              {:style {:position "absolute", :z-index 9999}}
              ([:li
                {:data-on:click
                 "evt.target.closest('form').elements['filterOp'].value = 'contains'; evt.target.closest('details').querySelector('summary span').textContent = 'contains'; evt.target.closest('details').removeAttribute('open')"}
                [:a.py-1 {:class "active"} "contains"]]
               [:li
                {:data-on:click
                 "evt.target.closest('form').elements['filterOp'].value = 'not-contains'; evt.target.closest('details').querySelector('summary span').textContent = 'does not contain'; evt.target.closest('details').removeAttribute('open')"}
                [:a.py-1 {:class nil} "does not contain"]]
               [:li
                {:data-on:click
                 "evt.target.closest('form').elements['filterOp'].value = 'equals'; evt.target.closest('details').querySelector('summary span').textContent = 'equals'; evt.target.closest('details').removeAttribute('open')"}
                [:a.py-1 {:class nil} "equals"]]
               [:li
                {:data-on:click
                 "evt.target.closest('form').elements['filterOp'].value = 'not-equals'; evt.target.closest('details').querySelector('summary span').textContent = 'does not equal'; evt.target.closest('details').removeAttribute('open')"}
                [:a.py-1 {:class nil} "does not equal"]]
               [:li
                {:data-on:click
                 "evt.target.closest('form').elements['filterOp'].value = 'starts-with'; evt.target.closest('details').querySelector('summary span').textContent = 'starts with'; evt.target.closest('details').removeAttribute('open')"}
                [:a.py-1 {:class nil} "starts with"]]
               [:li
                {:data-on:click
                 "evt.target.closest('form').elements['filterOp'].value = 'ends-with'; evt.target.closest('details').querySelector('summary span').textContent = 'ends with'; evt.target.closest('details').removeAttribute('open')"}
                [:a.py-1 {:class nil} "ends with"]]
               [:li
                {:data-on:click
                 "evt.target.closest('form').elements['filterOp'].value = 'is-empty'; evt.target.closest('details').querySelector('summary span').textContent = 'is empty'; evt.target.closest('details').removeAttribute('open')"}
                [:a.py-1 {:class nil} "is empty"]])]]
            [:input.input.input-sm.w-full
             {:type "text",
              :name "filterVal",
              :placeholder "Value...",
              :value ""}]
            [:div.flex.gap-2
             [:button.btn.btn-sm.btn-ghost.flex-1
              {:type "button",
               :disabled true,
               :data-on:click
               "document.getElementById('filter-region').hidePopover(); @get('/demo/datatable/data?filterCol=region&filterVal=')"}
              "Clear"]
             [:button.btn.btn-sm.btn-primary.flex-1
              {:type "button",
               :data-on:click
               "document.getElementById('filter-region').hidePopover(); @get('/demo/datatable/data?filterCol=region&filterOp=' + evt.target.closest('form').elements['filterOp'].value + '&filterVal=' + encodeURIComponent(evt.target.closest('form').elements['filterVal'].value))"}
              "Apply"]]]])
         ([:button.btn.btn-ghost.btn-xs.px-1.opacity-50.hover:opacity-100
           {:popovertarget "col-menu-region",
            :style {:anchor-name "--col-menu-region"}}
           [:svg.w-4.h-4
            {:xmlns "http://www.w3.org/2000/svg",
             :fill "none",
             :viewBox "0 0 24 24",
             :stroke-width "1.5",
             :stroke "currentColor"}
            [:path
             {:stroke-linecap "round",
              :stroke-linejoin "round",
              :d
              "M12 6.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 12.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 18.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5Z"}]]]
          [:div.dropdown-content.bg-base-100.rounded-box.shadow-lg.p-2
           {:popover "auto",
            :id "col-menu-region",
            :style
            {:position-anchor "--col-menu-region",
             :position "absolute",
             :top "anchor(bottom)",
             :left "anchor(right)",
             :translate "-100% 0",
             :font-weight "normal"}}
           [:ul.menu.menu-sm.w-44
            [:li
             [:a.flex.items-center.gap-2
              {:data-on:click
               "document.getElementById('col-menu-region').hidePopover(); @get('/demo/datatable/data?sortCol=region&sortDir=asc')"}
              [:svg.w-4.h-4
               {:xmlns "http://www.w3.org/2000/svg",
                :fill "none",
                :viewBox "0 0 24 24",
                :stroke-width "1.5",
                :stroke "currentColor"}
               [:path
                {:stroke-linecap "round",
                 :stroke-linejoin "round",
                 :d "M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"}]]
              "Sort ascending"]]
            [:li
             [:a.flex.items-center.gap-2
              {:data-on:click
               "document.getElementById('col-menu-region').hidePopover(); @get('/demo/datatable/data?sortCol=region&sortDir=desc')"}
              [:svg.w-4.h-4
               {:xmlns "http://www.w3.org/2000/svg",
                :fill "none",
                :viewBox "0 0 24 24",
                :stroke-width "1.5",
                :stroke "currentColor"}
               [:path
                {:stroke-linecap "round",
                 :stroke-linejoin "round",
                 :d "M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"}]]
              "Sort descending"]]
            [:li
             [:a.flex.items-center.gap-2
              {:data-on:click
               "document.getElementById('col-menu-region').hidePopover(); @get('/demo/datatable/data?groupBy=region')"}
              [:svg.w-4.h-4
               {:xmlns "http://www.w3.org/2000/svg",
                :fill "none",
                :viewBox "0 0 24 24",
                :stroke-width "1.5",
                :stroke "currentColor"}
               [:path
                {:stroke-linecap "round",
                 :stroke-linejoin "round",
                 :d
                 "M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}]]
              "Group by "
              "Region"]]
            [:li
             [:a.flex.items-center.gap-2
              {:data-on:click
               "document.getElementById('col-menu-region').hidePopover(); $datatable.datatable.columns.region.visible = false; @get('/demo/datatable/data')"}
              [:svg.w-4.h-4
               {:xmlns "http://www.w3.org/2000/svg",
                :fill "none",
                :viewBox "0 0 24 24",
                :stroke-width "1.5",
                :stroke "currentColor"}
               [:path
                {:stroke-linecap "round",
                 :stroke-linejoin "round",
                 :d
                 "M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}]]
              "Hide column"]]]])]]])]]
   [:tbody
    ([:tr
      [:td.w-3
       [:input.checkbox.checkbox-sm
        {:type "checkbox",
         :data-signals "{\"datatable.datatable.selections.1\": false}",
         :data-bind "datatable.datatable.selections.1"}]]
      nil
      ([:td "Socrates"]
       [:td "5th BC"]
       [:td "Classical Greek"]
       [:td "Greece"])]
     [:tr
      [:td.w-3
       [:input.checkbox.checkbox-sm
        {:type "checkbox",
         :data-signals "{\"datatable.datatable.selections.2\": false}",
         :data-bind "datatable.datatable.selections.2"}]]
      nil
      ([:td "Plato"]
       [:td "4th BC"]
       [:td "Platonism"]
       [:td "Greece"])])]]]
 [:div.flex.items-center.justify-between.mt-4.text-sm.opacity-70
  [:div.flex.items-center.gap-4
   [:div.flex.items-center.gap-1
    [:select.select.select-ghost.select-sm.font-medium
     {:data-on:change
      "@get('/demo/datatable/data?pageSize=' + evt.target.value)"}
     ([:option {:value 10, :selected true} 10]
      [:option {:value 25, :selected false} 25]
      [:option {:value 100, :selected false} 100]
      [:option {:value 250, :selected false} 250])]
    [:span.whitespace-nowrap "per page"]]]
  [:div "1–10 of 15"]
  [:div.flex.items-center.gap-1
   [:button.btn.btn-ghost.btn-sm.btn-square
    {:data-on:click "@get('/demo/datatable/data?page=first')",
     :disabled true}
    "«"]
   [:button.btn.btn-ghost.btn-sm.btn-square
    {:data-on:click "@get('/demo/datatable/data?page=prev')",
     :disabled true}
    "‹"]
   [:button.btn.btn-ghost.btn-sm.btn-square
    {:data-on:click "@get('/demo/datatable/data?page=next')",
     :disabled false}
    "›"]
   [:button.btn.btn-ghost.btn-sm.btn-square
    {:data-on:click "@get('/demo/datatable/data?page=last')",
     :disabled false}
    "»"]]]]
